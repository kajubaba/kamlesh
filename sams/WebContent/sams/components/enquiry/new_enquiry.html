<div ng-controller="enquiry.controller as ctrl" ng-init="ctrl.initializeScreen()">
       <!-- Row -1 -->
      
    <form name="enquiry_form">   
     
     
     <!-- Page header --> 
     <div class="row">
        <div class="col-sm-12 col-md-12">
          <h3 class="page-header">
            <div class="row">
              <div class="col-md-12" ng-controller="sams.academicsession.controller as asCtrl" ng-init="asCtrl.getCurrentEnquiryAcademicYear()">
              	<span class="glyphicon glyphicon-user"></span> <span ng-bind="enquiryAcademicYear"> </span> New Enquiry 
              </div>
       <!--              <div class="col-md-2">
              	 <div class="form-group input-group" >
				<input type="text" class="form-control" ng-model="mobileNo" placeholder="Search by Mobile No" ng-change="ctrl.searchEnquiriesByContactNo()"/>
											<span class="input-group-btn">
												  <button class="btn btn-default" type="button"  ng-click="ctrl.getEnquiryByMobileNo()">
												  	<span class="glyphicon glyphicon-search"></span> 
												  </button>
											</span> 
										</div>
              	
              </div> -->
      
			</div>
          </h3>
        </div>
      </div>
      <!-- //Page header -->
      
      <!-- Admission Information -->
      <div class="row">
      		<div class="col-sm-6 col-md-6">
      			<div class="panel panel-default">
                	<div class="panel-heading"> <i class="fa fa-bar-chart-o fa-fw"></i> Enquiry For </div>
                		<div class="panel-body">
                			<div class="row">
                				
                				<div class="col-md-6">
                					<div class="form-group .required">
					                    <label >Affiliation Authority </label> 
					                    
					                    <select class="form-control" ng-model="formData.affiliationAuthorityId" ng-options="authority.id as authority.displayName for authority in authorities" ng-change="ctrl.fetchActiveClasses()">
					                    	<option value="">--- Select Affiliation Authority ---</option>
					                    </select>
                  					</div>
		                  			<div class="form-group">
					                    <label >Student Name <span class="color-red">*</span></label>
					                    <input type="text" class="form-control" ng-model="formData.studentName" required>
					                 </div>
					                 <div class="form-group">
						                <label >Student Contact No #</label>
						                <input type="text" ng-model="formData.studentContactNo" class="form-control" ng-change="ctrl.searchEnquiriesByStudentContactNo()">
                  					</div>
                				</div>
                				
                				<div class="col-md-6">
                					<div class="form-group">
					                    <label >Admission Class</label>
					                    <select class="form-control" ng-model="formData.academicYearClassId" ng-options="clazz.classId as clazz.className for clazz in classes">
					                    	<option value="">--- Select Class ---</option>
					                    </select>	
					                    
				                 	 </div>
                  					<div class="form-group">
					                    <label >Gender</label>
					                    <select  ng-model="formData.gender" class="form-control" required>
					                      <option value="">--- Select Gender ---</option>
					                      <option value="Male">Male</option>
					                      <option value="Female">Female</option>
					                    </select>
					                 </div>
					                 <div class="form-group">
					                     <label >Date of Birth</label>
					                    <div class="form-group input-group ">
											<input id="admissionDOB" type="text" ng-model="formData.dobStr" class="form-control" readonly="readonly" ng-change="ctrl.changeDOB()">
											<span class="input-group-btn">
												  <button class="btn btn-default" type="button" ng-click="ctrl.openDatePicker()">
												  	<span class="glyphicon glyphicon-calendar"></span> 
												  </button>
											</span> 
										</div>
					                  </div>
                				</div>
                				
                	
                				</div>
                				
                	
                			</div>
                		</div>
                </div>
                <div class="col-sm-6 col-md-6">
      			<div class="panel panel-default">
                	<div class="panel-heading"> <i class="fa fa-bar-chart-o fa-fw"></i> Previous Class Details </div>
                		<div class="panel-body">
                				<div class="row">
                				
                				<div class="col-md-6">
                					<div class="form-group .required">
					                    <label >Class Name </label> 
					                    <input type="text" ng-model="formData.prevClass" class="form-control" >
                  					</div>
		                  			<div class="form-group">
					                    <label >University/Board</label>
					                    <input type="text" class="form-control" ng-model="formData.prevClassBoard">
					                 </div>
					                 <div class="form-group">
						                <label >Exam Result</label>
						                <select class="form-control" ng-model="formData.prevClassStatus" >
					                    	<option value="">--- Select Status ---</option>
					                    	<option value="fail">Fail</option>
					                    	<option value="pursuing">Pursuing</option>
					                    	<option value="result awaited">Result Awaited</option>
					                    	<option value="result declared">Result Declared</option>
					                    </select>
						                
                  					</div>
                				</div>
                				
                				<div class="col-md-6">
                					<div class="form-group">
					                    <label >School/College Name</label>
					                    <input type="text" ng-model="formData.prevInstituteName" class="form-control" >	
					                    
				                 	 </div>
                  					<div class="form-group">
					                    <label >City/Town</label>
					                    <input type="text" ng-model="formData.prevClassCity" class="form-control" > 
					                 </div>
					                 <div class="form-group">
					                     <label >Percentage(%)</label>
					                    <input type="number" ng-model="formData.preClassPercentage" class="form-control" >
					                  </div>
                				</div>
                				
                	
                				</div>
                				
                	
                			</div>
                		</div>
                </div>
      		</div>
      
       <!-- // Admission Information -->
       
      <div class="row">
      		<div class="col-md-12">
      			<div class="row">
	      			<div class="col-md-6">
	      					<div class="panel panel-default">
				                <div class="panel-heading"> <span class="glyphicon glyphicon-user"></span> &nbsp; Address</div>
				                <div class="panel-body">
				                  <div class="row">
				                  		
				                  		<div class="col-md-6">
				                  			<div class="form-group">
							                    <label >Address</label>
							                    <textarea style="height: 108px" class="form-control" ng-model="formData.line1"></textarea>
				                  			</div>
				                  			 <div class="form-group">
							                    <label >Village/Town/Area</label>
							                    <input type="text" ng-model="formData.line2" class="form-control" >
				                 			 </div>
				                 
				                  		</div>
				                  		
				                  		<div class="col-md-6">
				                  			<div class="form-group">
							                    <label >City</label>
							                    <div ng-show="cityIn == 'text-box'" class="form-group input-group">
							                    	<input type="text" ng-model="formData.city" class="form-control" >
							                    	<span class="input-group-btn">
														  <button class="btn btn-default" ng-click="ctrl.searchCityInDropDown()">
														   <a href="javascipt:void(0)">Search</a> 
														  </button>
													</span>
							                    </div>
							                    <div ng-show="cityIn == 'drop-down'" class="form-group input-group ">
													
													<select class="form-control" ng-model="formData.city" ng-options="o as o for o in cities">
													</select>
													<span class="input-group-btn">
														  <button class="btn btn-default" ng-click="ctrl.typeCityInTextBox()">
														   <a href="javascript:void(0)">Add New</a> 
														  </button>
													</span> 
										</div>
				                  			</div>
				                  			<div class="form-group">
							                    <label >State</label>
							                    <select class="form-control" ng-model="formData.stateId" ng-options="state.id as state.name for state in states">
							                    	<option value="">--- Select State ---</option>
							                    </select>
							                    
				                  			</div>
							                 <div class="form-group">
							                    <label >Zip Code</label>
							                    <input type="text" ng-model="formData.zipCode" class="form-control" >
							                 </div>
				                  		</div>
				                  		
				                  </div>
				                </div>
             				 </div>
	      			</div>
	      			
	      			<div class="col-md-6">
			              <div class="panel panel-default">
			                <div class="panel-heading"> <span class="glyphicon glyphicon-user"></span> &nbsp; Parents Details </div>
			                <div class="panel-body">
			                  <div class="row">
			                  	<div class="col-md-6">
					                  <div class="form-group">
					                    <label >Father's Name (Mr.)</label>
					                    <input type="text" ng-model="formData.fatherName" class="form-control" >
					                  </div>
					                  <div class="form-group">
					                    <label >Father's Contact No#</label>
					                    <input type="text" ng-model="formData.fatherContactNo" class="form-control" ng-change="ctrl.searchEnquiriesByFatherContactNo()">
					                  </div>
					                 
					                  <div class="form-group">
					                    <label >Father Occupation</label>
					                    <input type="text" ng-model="formData.fatherOccupation" class="form-control" >
					                  </div>
					              </div>
					                   	<div class="col-md-6">
					                  <div class="form-group">
					                    <label >Mother's Name (Mrs.)</label>
					                    <input type="text" ng-model="formData.motherName" class="form-control" >
					                  </div>
					                  <div class="form-group">
					                    <label >Mother Contact No#</label>
					                    <input type="text" ng-model="formData.motherContactNo" class="form-control" ng-change="ctrl.searchEnquiriesByMotherContactNo()">
					                  </div>
					                 
					                  <div class="form-group">
					                    <label >Mother Occupation</label>
					                    <input type="text" ng-model="formData.motherOccupation" class="form-control" >
					                  </div>
					              </div>      
			                  </div>
			                </div>
			              </div>
           			</div>
            
          
	      			
      			</div>
      		</div>
      </div>
      
      
	
      <div class="row">
        <div class="col-md-12 text-center">
        	<a class="btn btn-default" href="#/enquiry/dashboard"><span class="glyphicon glyphicon-arrow-left" ></span> Cancel</a>
        	<button class="btn btn-primary" ng-click="ctrl.submitForm()" ng-disabled="enquiry_form.$invalid"><span class="glyphicon glyphicon-save"></span> <span id="btnAction"> Register</span></button>
        </div>
      </div>
      <div style="height: 20px;">&nbsp;</div>
      
</form>



<div class="modal" id="modalEnquirySaveSuccess" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
						<div class="modal-header">
		        		<h4 class="modal-title"> 
		        			 <span class="glyphicon glyphicon-ok-sign color-success"></span> Admission Enquiry saved successfully   
		        		</h4>
		        		
		      		</div>
				      <div class="modal-body">
				        
				        <h4 class="modal-title" style="margin-top: 20px;text-align: right;"> 
				        	<span class="glyphicon glyphicon-question-sign"></span> What do you want to do now ?
				        </h4>
				         
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-primary" ng-click="ctrl.newEnquiry()"><span class="glyphicon glyphicon-plus"/> Create New Enquiry</button>
				        <button type="button" class="btn btn-primary" ng-click="ctrl.stayOnEnquiry()"><span class="glyphicon glyphicon-off"/> Stay on this Enquiry</button>
				      </div>
				    </div>
				  </div>
			</div> 
	<div class="modal" id="modalEnqSearchResults" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
				  <div class="modal-dialog modal-lg" role="document">
				    <div class="modal-content">
						<div class="modal-header">
		        		<h4 class="modal-title"> 
		        			 <span class="glyphicon glyphicon-search"></span> Enquiries exists with No #     
		        		</h4>
		        		
		      		</div>
				      <div class="modal-body">
					        
					       		<div class="row" ng-repeat="enquiry in enqSearchResults">
					       			<div class="col-md-2">
					       				<img class="img-circle img-thumbnail img-responsive profile-img" src="sams/assets/img/student_icon.png" alt="" style="width: 80px;height: 80px"/>
					       			</div>
					       			<div class="col-md-5">
								        <form class="form-horizontal">
						                    <div class="form-group">
						                      <label class="col-md-6">Stduent :</label>
						                      <div class="col-md-6" ng-bind="enquiry.studentName"></div>
						                    </div>
						                    <div class="form-group">
						                      <label class="col-md-6">Father's Name :</label>
						                      <div class="col-md-6" ng-bind="enquiry.fatherName"></div>
						                    </div>
						                    <div class="form-group">
						                      <label class="col-md-6">Enquiry Class :</label>
						                      <div class="col-md-6" ng-bind="enquiry.className"></div>
						                    </div>
							        	</form>
					        		</div>
					        		<div class="col-md-5">
							        	<form class="form-horizontal">
						                    <div class="form-group">
						                      <label class="col-md-6">Gender :</label>
						                      <div class="col-md-6" ng-bind="enquiry.gender"></div>
						                    </div>
						                    <div class="form-group">
						                      <label class="col-md-6">Address :</label>
						                      <div class="col-md-6" ng-bind="enquiry.city"></div>
						                    </div>
						                    <div class="form-group">
						                      <label class="col-md-6">Enquiry Date :</label>
						                      <div class="col-md-6" ng-bind="enquiry.enquiryDate"></div>
						                    </div>
							        	</form>
							        </div>	
					        	</div>
					       
					        	
					        	
				         	
				      </div>
					  <div class="modal-footer">
				        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
				      </div>	
				    </div>
				  </div>
			</div> 		

  <new-enquiry/>    
</div>
<script type="text/javascript">

$(function() {

    
$( "#admissionDOB" ).datepicker({
		dateFormat:'d-M-yy',
		buttonImageOnly: true,
		changeMonth: true,
		changeYear: true,
		yearRange: "1960:2030",
		onSelect: function(dateText) {
			$("#requiredDOB").removeClass("has-error");
			
		  }
	})

})    
</script>
    